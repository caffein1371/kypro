##########################################
import io
import sys

_INPUT = """\
10 30
..........##########..........
..........####....###.....##..
.....##....##......##...#####.
....####...##..#####...##...##
...##..##..##......##..##....#
#.##....##....##...##..##.....
..##....##.##..#####...##...##
..###..###..............##.##.
.#..####..#..............###..
#..........##.................
................#..........##.
######....................####
....###.....##............####
.....##...#####......##....##.
.#####...##...##....####...##.
.....##..##....#...##..##..##.
##...##..##.....#.##....##....
.#####...##...##..##....##.##.
..........##.##...###..###....
...........###...#..####..#...




"""
sys.stdin = io.StringIO(_INPUT)
##########################################
H,W = map(int,input().split())
A = []
for i in range(H):
    Alist = input()
    A.append(Alist)
B = []
ans = False
for i in range(H):
    Blist = input()
    B.append(Blist)
for s in range(H):
    for t in range(W):
        ans = True
        for i in range(H):
            for j in range(W):
                if A[(i-s+H)%H][(j-t+W)%W]!=B[i][j]:
                    ans = False
        if ans==True:
            print ('Yes')
            quit()

print ('No')


